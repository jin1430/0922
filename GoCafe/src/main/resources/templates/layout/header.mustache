<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>CafeGo</title>
    <link rel="icon" href="/favicon.ico"/>
    <link rel="stylesheet" href="/css/cafego.css"/>
</head>
<body>

<nav class="cg-nav">
    <div class="cg-container cg-nav__inner">
        <a href="/" class="cg-brand" aria-label="CafeGo">CafeGo</a>

        <ul class="cg-navlinks">
            <li>
                <a href="/index/map" class="{{#isMap}}cg-nav-active{{/isMap}}">탐색 지도</a>
            </li>
        </ul>

        <div class="cg-nav__actions">
            {{^isLoggedIn}}
                <a href="/signup" class="cg-btn-outline">회원가입</a>
                <a href="/login"  class="cg-btn-outline">로그인</a>
            {{/isLoggedIn}}

            {{#isLoggedIn}}
                안녕하세요,<span class="cg-me-email">{{currentUserNickname}}</span>님!
                <a href="/member/me" class="cg-btn-outline" aria-label="마이페이지">마이페이지</a>
                {{#isAdmin}}<a href="/admin" class="cg-btn-outline">관리자 페이지</a>{{/isAdmin}}
                <!-- JS가 이 폼 submit 가로채서 로그아웃 처리 -->
                <form id="logoutForm" action="/api/auth/logout" method="post" style="display:inline">
                    <button class="cg-btn-outline" type="submit">로그아웃</button>
                </form>
            {{/isLoggedIn}}

        </div>
    </div>
</nav>
{{#flashInfo}}
    <div style="margin:12px 0;padding:10px 12px;border:1px solid #bfdbfe;background:#eff6ff;border-radius:8px;color:#1e40af">
        {{flashInfo}}
    </div>
{{/flashInfo}}

