{{>layout/header}}

<main class="cg-container mypage">
    <h1 class="cg-title">마이페이지</h1>

    <div class="cg-mypage-grid" id="me-layout">
        <aside>
            <nav class="cg-sidenav">
                <a href="/member/me"       class="{{#nav_me}}is-active{{/nav_me}}">내 정보</a>
                <a href="/member/edit"     class="{{#nav_edit}}is-active{{/nav_edit}}">내 정보 수정</a>
                <a href="/member/reviews"  class="{{#nav_reviews}}is-active{{/nav_reviews}}">내가 쓴 리뷰</a>
                <a href="/favorites"       class="{{#nav_favorites}}is-active{{/nav_favorites}}">즐겨찾기 목록 확인</a>
                <a href="/member/withdraw" class="is-danger {{#nav_withdraw}}is-active{{/nav_withdraw}}">회원 탈퇴</a>
            </nav>
        </aside>

        <section>
            <article class="cg-panel">
                <header class="cg-panel__head">
                    <div>
                        <div class="cg-eyebrow">내 계정</div>
                        <h2 class="cg-panel__title">즐겨찾기 목록</h2>
                    </div>
                </header>

                <div class="cg-panel__body">
                    {{#favorites}}
                        <ul class="cg-card-grid">
                            {{#.}}
                                <li class="cg-card">
                                    <a class="cg-card__link" href="/cafes/{{id}}">
                                        <div class="cg-card__imgwrap">
                                            <img class="cg-card__img"
                                                 src="{{photo}}"
                                                 alt="{{name}}"
                                                 onerror="this.style.display='none';this.parentElement.classList.add('cg-noimg');">
                                            <div class="cg-card__imgph">☕</div>
                                        </div>
                                        <div class="cg-card__body">
                                            <div class="cg-card__title">{{name}}</div>
                                            <div class="cg-card__meta">{{address}}</div>
                                        </div>
                                    </a>
                                </li>
                            {{/.}}
                        </ul>
                    {{/favorites}}

                    {{^favorites}}
                        <div class="cg-empty">아직 즐겨찾기한 카페가 없어요.</div>
                    {{/favorites}}
                </div>
            </article>
        </section>
    </div>
</main>

{{>layout/footer}}

<style>
    /* 공통 컨테이너/레이아웃(다른 마이페이지들과 동일) */
    :root{
      --primary-mint:#3aa17e; --primary-mint-dark:#2d8066;
      --gray-50:#fafafa; --gray-100:#f3f4f6; --gray-200:#e5e7eb;
      --gray-600:#4b5563; --gray-700:#374151; --gray-800:#1f2937;
    }
    .cg-container{max-width:1100px;margin:0 auto;padding:32px 16px;}
    .cg-title{font-size:36px;font-weight:800;color:var(--gray-800);margin-bottom:12px;}
    .cg-mypage-grid{display:grid;grid-template-columns:260px 1fr;gap:24px;align-items:start;}
    @media (max-width:1024px){.cg-mypage-grid{grid-template-columns:1fr}}

    .cg-sidenav{position:sticky;top:84px;display:flex;flex-direction:column;gap:8px;background:#fff;border:1px solid var(--gray-200);border-radius:14px;padding:14px}
    .cg-sidenav a{display:block;padding:10px 12px;border-radius:10px;color:var(--gray-700);font-weight:600}
    .cg-sidenav a:hover{background:var(--gray-100)}
    .cg-sidenav a.is-active{background:rgba(58,161,126,.1);color:var(--primary-mint)}
    .cg-sidenav a.is-danger{color:#b91c1c}

    .cg-panel{background:#fff;border:1px solid var(--gray-200);border-radius:16px;box-shadow:0 6px 16px rgba(0,0,0,.04);margin-bottom:20px}
    .cg-panel__head{display:flex;justify-content:space-between;align-items:center;padding:18px 20px;border-bottom:1px solid var(--gray-200)}
    .cg-panel__title{font-size:20px;font-weight:800;color:var(--gray-800)}
    .cg-eyebrow{font-size:12px;color:var(--gray-600);margin-bottom:4px}
    .cg-panel__body{padding:18px 20px}

    /* 카드 그리드 */
    .cg-card-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;list-style:none;padding:0;margin:0}
    @media (max-width:1024px){.cg-card-grid{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:640px){.cg-card-grid{grid-template-columns:1fr}}

    .cg-card{border:1px solid var(--gray-200);border-radius:14px;overflow:hidden;background:#fff;transition:transform .12s ease, box-shadow .12s ease}
    .cg-card:hover{transform:translateY(-2px);box-shadow:0 10px 20px rgba(0,0,0,.06)}
    .cg-card__link{display:block;color:inherit;text-decoration:none}
    .cg-card__imgwrap{position:relative;height:160px;background:#f3f4f6;display:flex;align-items:center;justify-content:center}
    .cg-card__img{width:100%;height:100%;object-fit:cover;display:block}
    .cg-card__imgph{position:absolute;font-size:28px;opacity:.35;display:none}
    .cg-noimg .cg-card__imgph{display:block}
    .cg-card__body{padding:14px}
    .cg-card__title{font-weight:800;color:var(--gray-800);margin-bottom:4px}
    .cg-card__meta{font-size:13px;color:var(--gray-600)}
    .cg-empty{padding:32px 12px;text-align:center;color:var(--gray-600);background:var(--gray-50);border:1px solid var(--gray-200);border-radius:12px}
</style>
