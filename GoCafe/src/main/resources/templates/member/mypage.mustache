{{>layout/header}}

<main class="cg-container mypage" style="padding:24px 0">
    <h1 class="cg-title">마이페이지</h1>

    <div class="cg-mypage-grid" id="me-layout">
        <!-- 좌측 네비 -->
        <aside>
            <nav class="cg-sidenav">
                <a href="/member/me"       class="{{#nav_me}}is-active{{/nav_me}}">내 정보</a>
                <a href="/member/edit"     class="{{#nav_edit}}is-active{{/nav_edit}}">내 정보 수정</a>
                <a href="/reviews/mine"    class="{{#nav_reviews}}is-active{{/nav_reviews}}">내가 쓴 리뷰</a>
                <a href="/favorites"       class="{{#nav_favorites}}is-active{{/nav_favorites}}">즐겨찾기 목록 확인</a>
                <a href="/member/withdraw" class="is-danger {{#nav_withdraw}}is-active{{/nav_withdraw}}">회원 탈퇴</a>
            </nav>
        </aside>

        <!-- 우측 본문 -->
        <section>
            {{#member}}
                <article class="cg-panel">
                    <header class="cg-panel__head">
                        <div>
                            <div class="cg-eyebrow">내 계정</div>
                            <h2 class="cg-panel__title">내 정보</h2>
                        </div>
                    </header>

                    <div class="cg-panel__body">
                        <div style="display:flex;gap:20px;align-items:center;flex-wrap:wrap;">
                            {{#hasPhoto}}
                                <img src="{{photoUrl}}" alt="프로필" class="cg-avatar-lg cg-avatar-ring">
                            {{/hasPhoto}}
                            {{^hasPhoto}}
                                <div class="cg-avatar-lg cg-avatar-ring" style="background:#e5e7eb;display:flex;align-items:center;justify-content:center;">
                                    <span style="font-size:12px;color:#6b7280;">NO IMG</span>
                                </div>
                            {{/hasPhoto}}

                            <div class="cg-badges" style="display:flex;gap:8px;flex-wrap:wrap;">
                                <span class="cg-badge">{{memberNickname}}</span>
                                <span class="cg-badge" title="역할">{{memberRole}}</span>
                            </div>
                        </div>

                        <div class="cg-divider"></div>

                        <dl class="cg-kv">
                            <dt>이메일</dt><dd>{{memberEmail}}</dd>
                            <dt>성별</dt><dd>{{memberGender}}</dd>
                            <dt>나이</dt><dd>{{memberAge}}</dd>
                            <dt>가입일</dt><dd>{{memberDate}}</dd>
                        </dl>
                    </div>
                </article>
            {{/member}}

            {{^member}}
                <div class="cg-panel"><div class="cg-panel__body">사용자 정보를 불러오지 못했습니다.</div></div>
            {{/member}}
        </section>

    </div>
</main>

{{>layout/footer}}
